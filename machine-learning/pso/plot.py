
import json
import matplotlib.pyplot as plt

by_algorithm = {}
for line in open('all_results.json'):
    results = json.loads(line)
    if results['problem'] != 'cityhotels':
        continue

    # t = range(len(results['progress']))
    # plt.plot(t, results['progress'], color = 'g')
    alg = results['algorithm']
    all = by_algorithm.get(alg, [])
    all.append(results['progress'])
    by_algorithm[alg] = all

averages = {}
for (alg, all) in by_algorithm.items():
    averages[alg] = [sum([progress[ix] for progress in all]) / len(all)
                     for ix in range(len(all[0]))]

color = {'pso' : 'g', 'firefly' : 'r', 'crap' : 'b'}

t = range(len(averages.items()[0][1]))
for (alg, avg) in averages.items():
    plt.plot(t, avg, color = color[alg])
#plt.plot(t, firefly, color = 'r')

#plt.xlabel('time (s)')
#plt.ylabel('voltage (mV)')
#plt.title('Iteration #%s' % count)
plt.grid(True)

#plt.savefig("countries.png")

plt.show()
plt.close()

# {"pso_w": 0.721, "pso_c": 1.193, "problem": "cityhotels", "progress": [0.9778662606862631, 0.9778662606862631, 0.9778662606862631, 0.9778662606862631, 0.9778662606862631, 0.9780953496544453, 0.9790127799273068, 0.9790127799273068, 0.9790127799273068, 0.9790127799273068, 0.9790127799273068, 0.9790127799273068, 0.9790127799273068, 0.9790127799273068, 0.9792375366568915, 0.9794721407624634, 0.9795534665099882, 0.9799225079253259, 0.9799225079253259, 0.9799225079253259, 0.9799225079253259, 0.9799225079253259, 0.9801573323940354, 0.9801573323940354, 0.9801573323940354, 0.980166647107147, 0.9813007173938609, 0.9813007173938609, 0.9814836655265953, 0.9817453774584854, 0.9817453774584854, 0.9821786852354539, 0.9821786852354539, 0.9821786852354539, 0.9825389334591789, 0.9826548672566372, 0.9826548672566372, 0.9826548672566372, 0.9826712248025462, 0.9826712248025462, 0.9826712248025462, 0.9830348727615456, 0.9830348727615456, 0.9831546707503829, 0.9837110481586403, 0.9837110481586403, 0.9838157117542824, 0.9840670364687831, 0.9840670364687831, 0.9841831916902738, 0.9841831916902738, 0.9841831916902738, 0.9841831916902738, 0.9841831916902738, 0.9841831916902738, 0.9841831916902738, 0.9844229407599716, 0.9844229407599716, 0.9844229407599716, 0.9844229407599716, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847751681812816, 0.9847823522472572, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9850218186106852, 0.9851415094339623, 0.9851415094339623, 0.9851415094339623, 0.9851415094339623], "particles": 20, "algorithm": "pso", "dimensions": 27}
# {"pso_w": 0.721, "pso_c": 1.193, "problem": "cityhotels", "progress": [0.9701246765466949, 0.9718045112781956, 0.9718045112781956, 0.9721866635633656, 0.9730493115217136, 0.9730493115217136, 0.9730493115217136, 0.9730493115217136, 0.9740458015267175, 0.9766787765147076, 0.9774988157271435, 0.9774988157271435, 0.9774988157271435, 0.9774988157271435, 0.97789795438514, 0.9820330969267139, 0.9820330969267139, 0.9820330969267139, 0.9820330969267139, 0.9831873076012314, 0.9831873076012314, 0.9831873076012314, 0.9831873076012314, 0.9835405565423327, 0.9836686390532544, 0.9836686390532544, 0.9836686390532544, 0.9836686390532544, 0.9836686390532544, 0.9836686390532544, 0.9836686390532544, 0.9841607565011821, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984819734345351, 0.984848484848485, 0.985187818461903, 0.9852018468095183, 0.9852976049324165, 0.9852976049324165, 0.9856753877116137, 0.9856753877116137, 0.9856753877116137, 0.9856753877116137, 0.9856753877116137, 0.9856753877116137, 0.9857786205261909, 0.9858653046680128, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9861061631635197, 0.9862396204033214, 0.9863533879197816, 0.9863533879197816, 0.9863533879197816, 0.9863533879197816, 0.9863533879197816, 0.9865811661322883, 0.9865811661322883, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9867141162514828, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361, 0.9869544592030361], "particles": 20, "algorithm": "pso", "dimensions": 27}
# {"problem": "cityhotels", "progress": [0.9707181036486172, 0.9707181036486172, 0.9720435138612704, 0.9720435138612704, 0.9754543308945007, 0.9754543308945007, 0.9754543308945007, 0.9754543308945007, 0.9754543308945007, 0.9754543308945007, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9759120673526659, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9767937485200094, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811, 0.9783611209648811], "particles": 20, "algorithm": "crap", "dimensions": 27}
